"use strict";var e=require("es-module-lexer"),n=require("magic-string"),r=require("@rollup/plugin-alias"),t=require("path"),u=require("@rollup/pluginutils");function o(e,n,r,t){return new(r||(r=Promise))((function(u,o){function a(e){try{l(t.next(e))}catch(e){o(e)}}function i(e){try{l(t.throw(e))}catch(e){o(e)}}function l(e){var n;e.done?u(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,i)}l((t=t.apply(e,n||[])).next())}))}function a(e,n){var r,t,u,o,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(a=0)),a;)try{if(r=1,t&&(u=2&i[0]?t.return:i[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(u=a.trys,(u=u.length>0&&u[u.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){a.label=i[1];break}if(6===i[0]&&a.label<u[1]){a.label=u[1],u=i;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(i);break}u[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],t=0}finally{r=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function i(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var t,u,o=r.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(t=o.next()).done;)a.push(t.value)}catch(e){u={error:e}}finally{try{t&&!t.done&&(r=o.return)&&r.call(o)}finally{if(u)throw u.error}}return a}function c(e,n,r){if(r||2===arguments.length)for(var t,u=0,o=n.length;u<o;u++)!t&&u in n||(t||(t=Array.prototype.slice.call(n,0,u)),t[u]=n[u]);return e.concat(t||Array.prototype.slice.call(n))}"function"==typeof SuppressedError&&SuppressedError;var s=u.normalizePath(process.cwd()),f=new RegExp(s,"i"),d=new RegExp(s+"/(?!node_modules).*\\.[tj]s[x]?$","i"),p=/\?chunkName=([\w-.]*)/,h={main:"common",vendor:"vendor"},v=function(e){return t.basename(e,t.extname(e))},m=null,y={get:function(e){return m[e]},set:function(e){m=e}},b=null,g={get:function(e){return b[e]},set:function(e){b=e}},w=new RegExp("__","g"),x=new RegExp("\\.(css|less|sass|scss|styl|stylus|pcss|postcss)($|\\?)"),k=function(e){return x.test(e)},S=new Map;function E(e,n){var r=n.getModuleInfo,t=new Map,u=y.get(e),o=!!u,a=!f.test(e);if(o&&!k(e)&&O(e,r,t)||a)return u&&!S.has(u.name)&&S.set(u.name,!0),h.vendor;var i=p.exec(e);if(i)return N(i[1]);if(!(r(e).importers.length<2)){if(u){var s=c([],l(u.chunkNames),!1),d=s[0];return s.length>=2&&(d=u.name),S.has(d)&&(d=h.vendor),d||h.main}var v=g.get(e);if(v){var m=function(e){if(e.indexOf(h.main)>=0)return h.main;var n=e.filter((function(e){return e!==h.main}));switch(n.length){case 1:return n[0];case 2:return function(e){var n=l(e.sort((function(e,n){return e>n?1:e<n?-1:0})),2),r=n[0],t=n[1];return"shared/".concat(r,"/").concat(t)}(n);default:return h.main}}(c([],l(v.chunkNames),!1).filter(Boolean));return N(m)}}}function N(e){return e.replace(w,"/")}function O(e,n,r,t){if(void 0===t&&(t=[]),r.has(e))return r.get(e);if(t.includes(e))return r.set(e,!1),!1;var u=n(e);if(!u)return r.set(e,!1),!1;if(u.isEntry)return r.set(e,!0),!0;var o=u.importers.some((function(u){return O(u,n,r,t.concat(e))}));return r.set(e,o),o}function C(e){var n="function"==typeof e?e:void 0;return function(e,r){if(n){var t=n(e,r);if(t)return t}return E(e,r)}}var M=/(webpackC|c)hunkName:\s*["']([\w-/.]+)["']/,_=/node_modules\/((@[^/]+\/)?[^/]+)/g,I=function(e){for(var n="",r=null;r=_.exec(e);)n=r[1];return n};function q(e,n,r){var t,u,o=[e],a=new Set;try{for(var l=i(o),c=l.next();!c.done;c=l.next()){var s=c.value,f=r[s];if(f)f.chunkNames.forEach((function(e){return a.add(e)}));else{var d=n(s),p=d.isEntry,v=d.importers;if(p)a.add(h.main);else if(0===v.length){var m=A(s);r[s]={chunkNames:new Set([m])},a.add(m)}else v.forEach((function(e){-1===o.indexOf(e)&&o.push(e)}))}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(t)throw t.error}}return a}var R=new Map;function A(e){var n=p.exec(e);if(n)return n[1];var r=v(e);if(R.has(r)){var t=R.get(r);return R.set(r,t+1),"".concat(r,"-").concat(t)}return R.set(r,1),r}exports.manualChunksPlugin=function(){var t,u,s=new Set,p=new Set;return{name:"manualNameChunksPlugin",apply:"build",load:function(e){return e.includes("node_modules")?s.add(e):f.test(e)&&p.add(e),null},configResolved:function(e){u=e},buildEnd:function(){var e=function(e,n){var r,t,u={};try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var l=a.value;if(!u[l]){var c=q(l,n,u);u[l]={chunkNames:c}}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return u}(p,this.getModuleInfo),n=function(e,n){var r,t,u={},o=function(e){var r,t;if(!u[e]){var o=I(e);u[e]={chunkNames:new Set([o]),name:o}}var a=n(e).importedIds,s=new Set(a),f=function(r){u[r]||(u[r]={chunkNames:new Set,name:I(r)}),c([],l(u[e].chunkNames),!1).forEach((function(e){return u[r].chunkNames.add(e)})),((n(r)||{}).importedIds||[]).forEach((function(e){return s.add(e)}))};try{for(var d=(r=void 0,i(s)),p=d.next();!p.done;p=d.next()){f(p.value)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(r)throw r.error}}};try{for(var a=i(e),s=a.next();!s.done;s=a.next()){o(s.value)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}return u}(s,this.getModuleInfo);y.set(n),g.set(e)},transform:function(r,i){return o(this,void 0,void 0,(function(){var o,l,c,s,f,p,h,v,m,y,b,g,w,x,k;return a(this,(function(a){switch(a.label){case 0:if(!(d.test(i)&&M.test(r)))return[3,6];o=new n(r),l=e.parse(r)[0],c=0,a.label=1;case 1:return c<l.length?(s=l[c],f=s.ss,p=s.se,h=s.s,v=s.e,m=s.n,y=r.slice(f,p),(b=M.exec(y))?(g=b[2].replace(/\//g,"__"),w=m,t?[4,t.resolveId.call(this,m,i)]:[3,3]):[3,4]):[3,5];case 2:(x=a.sent())&&(w=x.id),a.label=3;case 3:k='"'.concat(w,"?").concat("chunkName","=").concat(g,'"'),o=o.overwrite(h,v,k),a.label=4;case 4:return c++,[3,1];case 5:return[2,{code:o.toString(),map:u.build.sourcemap?o.generateMap({includeContent:!0,hires:!0}):null}];case 6:return[2]}}))}))},config:function(e){e.build||(e.build={}),e.build.rollupOptions||(e.build.rollupOptions={}),e.build.rollupOptions.output||(e.build.rollupOptions.output={});var n=e.build.rollupOptions,u=n.output;Array.isArray(u)?n.output=u.map((function(e){return e.manualChunks=C(e.manualChunks),e})):Object.assign(e.build.rollupOptions.output,{manualChunks:C(u.manualChunks)});var o=e.resolve&&e.resolve.alias;o&&(t=r({entries:o}))}}};
//# sourceMappingURL=vite-plugin-webpackchunkname.js.map
